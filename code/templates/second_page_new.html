<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="{{ url_for('static',filename='second_page_new.css') }}">
<link rel="stylesheet" href="{{ url_for('static',filename='trial1.css') }}">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"> integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> -->

<head>
    <style>
        body,
        input,
        label,
        option {
            font-family: "Raleway", sans-serif
        }
    </style>
    <title>500Success</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
    <div>
        <div class="navigation-bar">
            <ul class="nav">
                <li><a href="#overview">Overview Analysis</a></li>
                <li><a class="active" href="{{ url_for('home') }}">Home</a></li>
                <img src="{{ url_for('static',filename='logo_used.png') }}" height="50" width="130">
            </ul>
        </div>
        <div class="search_box">
            <form action="{{ url_for('search') }}" method="get" id="search_form">
                <input id="search_input" type="text" name="query" placeholder=" what are you looking for?">
                <button class="fas fa-search"></button>
            <!-- <i class="fas fa-search"></i> -->
            </form>
        </div>
    </div>
    <div class = "restbody">
        <div class="wrapper">
            <!-- <form action="#">
                <div class="select-box">
                    <label for="select-box1" class="label select-box1"><span class="label-desc">POI name</span></label>
                    <select name = "select-box1" id="select-box1" class="select">
                        <option value="Choice 1">Falkland Islands</option>
                        <option value="Choice 2">Germany</option>
                        <option value="Choice 3">Neverland</option>
                    </select>
                </div>   
            </form>  -->
    
            <div class="selectdiv">
                <form action="{{ url_for('language') }}" method="get" id="search_form_lang">
                    <input type="hidden" name="query" value='{{query}}'/>
                    <label>
                        <select id="language" name="language" onchange="this.form.submit()">
                            <option selected> Language </option>
                            <option value="text_hi">Hindi</option>
                            <option value="text_en">English</option>
                            <option value="text_es">Spanish</option>
                        </select>
                    </label>
                </form>
            </div>
            <!-- </div> -->
            <!-- <div class="sidenav"> -->
            <div class="selectdiv">
                <label>
                    <select>
                        <option selected> Country </option>
                        <option>Mexico</option>
                        <option>USA</option>
                        <option>India</option>
                    </select>
                </label>
            </div>
            <!-- </div> -->
            <!-- <div class="sidenav"> -->
            <div class="selectdiv">
                <label>
                    <select>
                        <option selected> Topic </option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                    </select>
                </label>
            </div>
            <!-- </div> -->
            <!-- <div class="sidenav"> -->
            <div class="selectdiv">
                <label>
                    <select>
                        <option selected> POI name </option>
                        <option>HLGatell</option>
                        <option>CDCgov</option>
                        <option>JoeBiden</option>
                        <option>lopezobrador_</option>
                        <option>GovLarryHogan</option>
                        <option>rashtrapatibhvn</option>
                        <option>myogiadityanath</option>
                        <option>SSalud_mx</option>
                        <option>alfredodelmazo</option>
                        <option>Claudiashein</option>
                        <option>narendramodi</option>
                        <option>mansukhmandviya</option>
                        <option>GovAndyBeshear</option>
                        <option>GovernorTomWolf</option>
                        <option>GovMurphy</option>
                        <option>ShashiTharoor</option>
                        <option>MoHFW_INDIA</option>
                        <option>OfficeOf_MM</option>
                        <option>FelipeCalderon</option>
                        <option>GovKathyHochul</option>
                        <option>NC_Governor</option>
                        <option>AOC</option>
                        <option>GavinNewsom</option>
                        <option>POTUS</option>
                        <option>BernieSanders</option>
                        <option>SpeakerPelosi</option>
                        <option>COFEPRIS</option>
                        <option>RahulGandhi</option>
                        <option>VP</option>
                        <option>SenatorDurbin</option>
                        <option>ArvindKejriwal</option>
                        <option>GovPritzker</option>
                        <option>GovTimWalz</option>
                        <option>GovNedLamont</option>
                        <option>govkristinoem</option>
                        <option>GovHawaii</option>
                        <option>JaimeRdzNL</option>
                        <option>GovDunleavy</option>
                        <option>AUThackeray</option>
                        <option>dougducey</option>
                        <option>GovInslee</option>
                        <option>GovRonDeSantis</option>
                        <option>tedcruz</option>
                    </select>
                </label>
            </div>
            <!-- </div> -->
            
        </div>
        <div class = "maindata">
            <div class ="data">
                <ul id="myList"></ul>
            </div>
        </div>
        
    </div>
    
    <script>
    var lang = '{{ lang }}'
    console.log(lang)
    console.log('hello')
    if(lang != undefined){
        document.getElementsByName('language')[0].options[0].innerHTML = lang;
    }
    var data = {{ data|tojson }};
    console.log(typeof(data))
    console.log(data[0])
    // for(i=0; i<50; i++)
    // {
    //     console.log(data[i])
    // }
    let list = document.getElementById("myList");

    data.forEach((item) => {
        let li = document.createElement("li");
        if(item!=undefined){
            li.id = "list_item"
            if(item['poi_name']){
                if(item['tweet_text']){
                    if(item['tweet_urls']){
                        li.innerHTML = item['poi_name']+"<br/>"+"<br/>"+item['tweet_text']+"<br/>"+"<br/>"+"<a href ="+item['tweet_urls'][0]+">"+item['tweet_urls'][0]+"</a>"+"<br/>";
                    }
                    else{
                        li.innerHTML = item['poi_name']+"<br/>"+"<br/>"+item['tweet_text']
                    }
                }
            }
            // if(item.){
            //     li.innerHTML = "<a href ="+item.tweet_urls+">"+item.tweet_urls+"</a>"+"<br/>"+item.tweet_text;
            //     if(item.poi_name!=undefined){
            //         li.innerHTML = item.poi_name+"<br/>"+"<br/>"+"<a href ="+item.tweet_urls+">"+item.tweet_urls+"</a>"+"<br/>"+"<br/>"+item.tweet_text;
            //     }
            //     else{
            //         li.innerHTML = "<a href ="+item.tweet_urls+">"+item.tweet_urls+"</a>"+"<br/>"+"<br/>"+item.tweet_text;
            //     }
            // }
            // else{
            //     li.innerHTML = item.tweet_text;
            // }
            // if(item.tweet_urls[0].length!=0){
            //     console.log(item.tweet_urls[0].slice(2,item.tweet_urls[0].length-2));
            // }
            // // console.log(item.tweet_urls[0].length==0) //.slice(1,(item.tweet_urls[0].length)-2));
            // console.log(item.tweet_urls)
            // console.log(item.tweet_urls!='[]')
            // li.innerText = item; 
            // console.log(typeof(item['country']), item['country'])
            // li.innerHTML = item['poi_name'];
            list.appendChild(li);
        }
    });

        function show() {
            // const urlParams = new URLSearchParams(window.location.search);
            // const query = urlParams.get('query');
            document.getElementById("search_input").value = '{{query}}';
        }
        show();
        // var dropdown = document.getElementsByClassName("dropdown-btn");
        // var i;
        // for (i = 0; i < dropdown.length; i++) {
        // dropdown[i].addEventListener("click", function() {
        // this.classList.toggle("active");
        // var dropdownContent = this.nextElementSibling;
        // if (dropdownContent.style.display === "block") {
        // dropdownContent.style.display = "none";
        // } else {
        // dropdownContent.style.display = "block";
        // }
        // });
        // }
        $("select").on("click", function () {
            (this).parent(".select-box").toggleClass("open");
        });

        $(document).mouseup(function (e) {
            var container = $(".select-box");
            if (container.has(e.target).length === 0) {
                container.removeClass("open");
            }
        });

        $("select").on("change", function () {
            var selection = $(this).find("option:selected").text(),
                labelFor = $(this).attr("id"),
                label = $("[for='" + labelFor + "']");
            label.find(".label-desc").html(selection);
        });
        console.log(selection);
        console.log(label);

        // fetch('people.json')
        //     .then(function (response) {
        //         return response.json();
        //     })
        //     .then(function (data) {
        //         appendData(data);
        //     })
        //     .catch(function (err) {
        //         console.log('error: ' + err);
        //     });
        // var doc = [{'id': '1.439267285E18', 'verified': 0.0, 'tweet_text': '@narendramodi Modi ji Modi ji Modi ji : baki aap samajdar toh hain hi ðŸ™ðŸ»', 'tweet_lang': 'hi', 'tweet_urls': ['[]'], 'tweet_date': '2021-09-18T17:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439213992000000000, 'replied_to_user_id': 18839785, 'reply_text': 'Modi ji Modi ji Modi ji : baki aap samajdar toh hain hi ðŸ™ðŸ»', 'tweet_emoticons': ["['ðŸ™ðŸ»']"], 'text_hi': 'Modi ji Modi ji Modi ji : baki aap samajdar toh hain hi ðŸ™ðŸ»', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225404030980},{'id': '1.439205024E18', 'verified': 0.0, 'tweet_text': '@narendramodi Har har modi ghar ghar modi', 'tweet_lang': 'hi', 'tweet_urls': ['[]'], 'tweet_date': '2021-09-18T12:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439095799000000000, 'replied_to_user_id': 18839785, 'reply_text': 'Har har modi ghar ghar modi', 'text_hi': 'Har har modi ghar ghar modi', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225493159940},{'id': '1.274573609E18', 'verified': 1.0, 'tweet_text': 'Narendra Modi\n\nIs actually\n\nSurender Modi\n\nhttps://t.co/PbQ44skm0Z', 'tweet_lang': 'en', 'tweet_urls': ["['https://t.co/PbQ44skm0Z']"], 'country': 'INDIA', 'tweet_date': '2020-06-21T05:00:00Z', 'mentions': ["['https://t.co/PbQ44skm0Z']"], 'text_en': 'Narendra Modi Is actually Surender Modi , ', 'poi_name': 'RahulGandhi', 'poi_id': 3171712086, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225051709442},{'id': '1.439289245E18', 'verified': 0.0, 'tweet_text': '@narendramodi 2012 ka Modi aaj ke Modi ko pehchan bhi nahin payega', 'tweet_lang': 'hi', 'tweet_urls': ['[]'], 'tweet_date': '2021-09-18T18:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439221543000000000, 'replied_to_user_id': 18839785, 'reply_text': '2012 ka Modi aaj ke Modi ko pehchan bhi nahin payega', 'text_hi': '2012 ka Modi aaj ke Modi ko pehchan bhi nahin payega', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225430245376},{'id': '1.439270379E18', 'verified': 0.0, 'tweet_text': '@narendramodi Modi ji lon maf kardo modi ji  ek lakh 90 hagar ka hai', 'tweet_lang': 'hi', 'tweet_urls': ['[]'], 'country': 'UTTAR PRADESH, INDIA', 'tweet_date': '2021-09-18T17:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439222009000000000, 'replied_to_user_id': 18839785, 'reply_text': 'Modi ji lon maf kardo modi ji ek lakh 90 hagar ka hai', 'text_hi': 'Modi ji lon maf kardo modi ji ek lakh 90 hagar ka hai', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225441779713},{'id': '1.439214441E18', 'verified': 0.0, 'tweet_text': '@narendramodi Well modi', 'tweet_lang': 'en', 'tweet_urls': ['[]'], 'country': 'KERALA, INDIA', 'tweet_date': '2021-09-18T13:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439214245000000000, 'replied_to_user_id': 18839785, 'reply_text': 'Well modi', 'text_en': 'Well modi', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225512034307},{'id': '1.438833585E18', 'verified': 0.0, 'tweet_text': 'Answer to @RahulGandhi s query:  Where are the vaccines Modi ji.\n\nModi ji --&gt;\n#LargestVaccineDrive https://t.co/henjdsnxl4 https://t.co/rQX1EjSvEl', 'tweet_lang': 'en', 'hashtags': ["['LargestVaccineDrive']"], 'tweet_urls': ["['https://t.co/henjdsnxl4', 'https://t.co/rQX1EjSvEl']"], 'country': 'USA', 'username': 'HindustaniTweet', 'tweet_date': '2021-09-17T12:00:00Z', 'mentions': ["['RahulGandhi']"], 'text_en': 'Answer to  s query:  Where are the vaccines Modi ji.\n\nModi ji --&gt;\n  ', 'new_country': 'USA', 'vaccine_covid_classification': ['vaccine'], 'version': 1717703133712351240},{'id': '1.440992112E18', 'verified': 0.0, 'tweet_text': '@ndtv @Swamy39 let down\n@narendramodi\nshould have warned\non US visit\n\nPASSPORT\nVISA\nVACCINATION\n\nModi has none\n@DrSJaishankar movement\nwill stop\nif he meets Modi\nunvaccinated\n\nJaishankar may deliver Modi address in @UN\n\n@Chinamission2un\n@ChinaAmbUN\nclose watch on Modi\nalert US officers', 'tweet_lang': 'en', 'tweet_urls': ['[]'], 'country': 'PALO ALTO, CA. USA', 'tweet_date': '2021-09-23T11:00:00Z', 'mentions': ["['narendramodi', 'Swamy39', 'ndtv', 'ChinaAmbUN', 'Chinamission2un', 'UN', 'DrSJaishankar']"], 'replied_to_tweet_id': 1440977948000000000, 'replied_to_user_id': 37034483, 'reply_text': 'let down should have warned on US visit PASSPORT VISA VACCINATION Modi has none movement will stop if he meets Modi unvaccinated Jaishankar may deliver Modi address in close watch on Modi alert US officers', 'text_en': 'let down should have warned on US visit PASSPORT VISA VACCINATION Modi has none movement will stop if he meets Modi unvaccinated Jaishankar may deliver Modi address in close watch on Modi alert US officers', 'poi_id': 0, 'new_country': 'USA', 'vaccine_covid_classification': ['vaccine'], 'version': 1717703196673048578},{'id': '1.43930748E18', 'verified': 0.0, 'tweet_text': '@narendramodi Modi kutta hai', 'tweet_lang': 'hi', 'country': 'INDIA', 'tweet_date': '2021-09-18T19:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439221543000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi Modi kutta hai', 'text_hi': ' Modi kutta hai', 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703193970868229},{'id': '1.439545774E18', 'verified': 0.0, 'tweet_text': '@narendramodi Thanks modi ji', 'tweet_lang': 'en', 'country': 'USA', 'tweet_date': '2021-09-19T11:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439220631000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi Thanks modi ji', 'text_en': 'Thanks modi ji', 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703287011016705},{'id': '1.439273224E18', 'verified': 0.0, 'tweet_text': '@narendramodi Jai Ho Modi ji', 'tweet_lang': 'hi', 'tweet_urls': ['[]'], 'tweet_date': '2021-09-18T17:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439220631000000000, 'replied_to_user_id': 18839785, 'reply_text': 'Jai Ho Modi ji', 'text_hi': 'Jai Ho Modi ji', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225429196802},{'id': '1.439867389E18', 'verified': 0.0, 'tweet_text': '@narendramodi Jai Hind Modi ji', 'tweet_lang': 'hi', 'country': 'INDIA', 'tweet_date': '2021-09-20T08:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439222009000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi Jai Hind Modi ji', 'text_hi': 'Jai Hind Modi ji', 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703286970122242},{'id': '1.438919463E18', 'verified': 0.0, 'tweet_text': '@narendramodi Happy bday modi ji', 'tweet_lang': 'en', 'country': 'USA', 'tweet_date': '2021-09-17T18:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1434910668000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi Happy bday modi ji', 'text_en': ' Happy bday modi ji', 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703193990791168},{'id': '1.438744658E18', 'verified': 0.0, 'tweet_text': '@narendramodi @ArvindKejriwal Happy birthday modi ji...', 'tweet_lang': 'en', 'country': 'USA', 'tweet_date': '2021-09-17T06:00:00Z', 'mentions': ["['narendramodi', 'ArvindKejriwal']"], 'replied_to_tweet_id': 1427109298000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi @ArvindKejriwal Happy birthday modi ji...', 'text_en': '  Happy birthday modi ji...', 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703193998131210},{'id': '1.438712715E18', 'verified': 0.0, 'tweet_text': '@narendramodi @bhupeshbaghel Happy birthday modi ji', 'tweet_lang': 'en', 'country': 'USA', 'tweet_date': '2021-09-17T04:00:00Z', 'mentions': ["['narendramodi', 'bhupeshbaghel']"], 'replied_to_tweet_id': 1429708407000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi @bhupeshbaghel Happy birthday modi ji', 'text_en': '  Happy birthday modi ji', 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703194000228354},{'id': '1.438707539E18', 'verified': 1.0, 'tweet_text': 'Happy birthday, Modi ji.', 'tweet_lang': 'en', 'tweet_urls': ['[]'], 'country': 'INDIA', 'tweet_date': '2021-09-17T04:00:00Z', 'text_en': 'Happy birthday, Modi ji.', 'poi_name': 'RahulGandhi', 'poi_id': 3171712086, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703224917491717},{'id': '1.438931391E18', 'verified': 0.0, 'tweet_text': '@myogiadityanath @narendramodi Happy birthday modi ji', 'tweet_lang': 'en', 'tweet_urls': ['[]'], 'tweet_date': '2021-09-17T18:00:00Z', 'mentions': ["['myogiadityanath', 'narendramodi']"], 'replied_to_tweet_id': 1438890963000000000, 'replied_to_user_id': 3437532637, 'reply_text': 'Happy birthday modi ji', 'text_en': 'Happy birthday modi ji', 'poi_id': 0, 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225358942208},{'id': '1.439224848E18', 'verified': 0.0, 'tweet_text': '@narendramodi Great Achievement Modi Ji.', 'tweet_lang': 'en', 'tweet_urls': ['[]'], 'country': 'DINDIGUL, INDIA', 'tweet_date': '2021-09-18T14:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1438885802000000000, 'replied_to_user_id': 18839785, 'reply_text': 'Great Achievement Modi Ji.', 'text_en': 'Great Achievement Modi Ji.', 'poi_id': 0, 'new_country': 'INDIA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703225486868484},{'id': '1.439861849E18', 'verified': 0.0, 'tweet_text': '@narendramodi Happy birthdayðŸŽ‚ðŸŽ‰ðŸŽ modi ji', 'tweet_lang': 'en', 'country': 'USA', 'tweet_date': '2021-09-20T08:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1439064718000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi Happy birthdayðŸŽ‚ðŸŽ‰ðŸŽ modi ji', 'text_en': 'Happy birthday modi ji', 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703286970122244},{'id': '1.439825194E18', 'verified': 0.0, 'tweet_text': '@narendramodi Thank you Modi ji', 'tweet_lang': 'en', 'country': 'USA', 'tweet_date': '2021-09-20T06:00:00Z', 'mentions': ["['narendramodi']"], 'replied_to_tweet_id': 1438885431000000000, 'replied_to_user_id': 18839785, 'reply_text': '@narendramodi Thank you Modi ji', 'text_en': 'Thank you Modi ji', 'new_country': 'USA', 'vaccine_covid_classification': ['Neither'], 'version': 1717703286975365120}]
        // var mainContainer = document.getElementById("myData");
        // for (var i = 0; i < data.length; i++) {
        //     var div = document.createElement("div");
        //     div.innerHTML = 'Name: ' + data[i].username + ' ' + data[i].tweet_text
        //     mainContainer.appendChild(div);
        // }
      
</script>
</body>

</html>